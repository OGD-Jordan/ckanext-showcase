ckan.module("showcase-actions",(function(t){"use strict";return{options:{showcaseId:null,ajaxReload:!1},initialize:function(){t.proxyAll(this,/_on/),this.$(".showcase-actions .approve-showcase").on("click",this._onApproveShowcase),this.$(".showcase-actions .reject-showcase").on("click",this._onRejectShowcase)},_showConfirmation:function(o,a){t("#confirmation-message").text(o),t("#custom-confirmation-modal").modal("show"),t("#confirm-button").off("click").on("click",(function(){a(),t("#custom-confirmation-modal").modal("hide")}))},_onApproveShowcase:function(t){var o=this,a=t.currentTarget.dataset.id,n=t.currentTarget.getAttribute("data-module-content");this._showConfirmation(n,(function(){o._updateShowcaseStatus(a,"d")}))},_onRejectShowcase:function(t){var o=this,a=t.currentTarget.dataset.id,n=t.currentTarget.getAttribute("data-module-content");this._showConfirmation(n,(function(){o._updateShowcaseStatus(a,"c")}))},_updateShowcaseStatus:function(o,a){var n=this.options.ajaxReload;this.sandbox.client.call("POST","ckanext_showcase_status_update",{id:o,status:a},(function(){n?t(document).trigger("showcase:statusChanged"):window.location.reload()}))}}}));